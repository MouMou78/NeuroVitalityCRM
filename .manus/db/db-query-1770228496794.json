{
  "query": "CREATE TABLE `campaignRecipients` (\n\t`id` varchar(36) NOT NULL,\n\t`campaignId` varchar(36) NOT NULL,\n\t`personId` varchar(36) NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`status` enum('pending','sent','failed','bounced') NOT NULL DEFAULT 'pending',\n\t`sentAt` timestamp,\n\t`openedAt` timestamp,\n\t`clickedAt` timestamp,\n\t`error` text,\n\tCONSTRAINT `campaignRecipients_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `emailAccounts` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`provider` varchar(50) NOT NULL,\n\t`smtpHost` text,\n\t`smtpPort` int,\n\t`smtpUser` text,\n\t`smtpPass` text,\n\t`imapHost` text,\n\t`imapPort` int,\n\t`isDefault` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `emailAccounts_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `marketingCampaigns` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`name` text NOT NULL,\n\t`subject` text NOT NULL,\n\t`body` text NOT NULL,\n\t`status` enum('draft','scheduled','sending','sent','paused') NOT NULL DEFAULT 'draft',\n\t`scheduledAt` timestamp,\n\t`sentAt` timestamp,\n\t`recipientCount` int NOT NULL DEFAULT 0,\n\t`openCount` int NOT NULL DEFAULT 0,\n\t`clickCount` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `marketingCampaigns_id` PRIMARY KEY(`id`)\n);\nCREATE INDEX `recipients_campaign_idx` ON `campaignRecipients` (`campaignId`);\nCREATE INDEX `recipients_person_idx` ON `campaignRecipients` (`personId`);\nCREATE INDEX `email_accounts_tenant_idx` ON `emailAccounts` (`tenantId`);\nCREATE INDEX `email_accounts_user_idx` ON `emailAccounts` (`userId`);\nCREATE INDEX `campaigns_tenant_idx` ON `marketingCampaigns` (`tenantId`);\nCREATE INDEX `campaigns_user_idx` ON `marketingCampaigns` (`userId`);\nCREATE INDEX `campaigns_status_idx` ON `marketingCampaigns` (`status`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2QkRhwd4AVTLhHG.a0950ca1ba2f --database TQEsx2HByTQrcAiUBn2kww --execute CREATE TABLE `campaignRecipients` (\n\t`id` varchar(36) NOT NULL,\n\t`campaignId` varchar(36) NOT NULL,\n\t`personId` varchar(36) NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`status` enum('pending','sent','failed','bounced') NOT NULL DEFAULT 'pending',\n\t`sentAt` timestamp,\n\t`openedAt` timestamp,\n\t`clickedAt` timestamp,\n\t`error` text,\n\tCONSTRAINT `campaignRecipients_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `emailAccounts` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`provider` varchar(50) NOT NULL,\n\t`smtpHost` text,\n\t`smtpPort` int,\n\t`smtpUser` text,\n\t`smtpPass` text,\n\t`imapHost` text,\n\t`imapPort` int,\n\t`isDefault` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `emailAccounts_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `marketingCampaigns` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`name` text NOT NULL,\n\t`subject` text NOT NULL,\n\t`body` text NOT NULL,\n\t`status` enum('draft','scheduled','sending','sent','paused') NOT NULL DEFAULT 'draft',\n\t`scheduledAt` timestamp,\n\t`sentAt` timestamp,\n\t`recipientCount` int NOT NULL DEFAULT 0,\n\t`openCount` int NOT NULL DEFAULT 0,\n\t`clickCount` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `marketingCampaigns_id` PRIMARY KEY(`id`)\n);\nCREATE INDEX `recipients_campaign_idx` ON `campaignRecipients` (`campaignId`);\nCREATE INDEX `recipients_person_idx` ON `campaignRecipients` (`personId`);\nCREATE INDEX `email_accounts_tenant_idx` ON `emailAccounts` (`tenantId`);\nCREATE INDEX `email_accounts_user_idx` ON `emailAccounts` (`userId`);\nCREATE INDEX `campaigns_tenant_idx` ON `marketingCampaigns` (`tenantId`);\nCREATE INDEX `campaigns_user_idx` ON `marketingCampaigns` (`userId`);\nCREATE INDEX `campaigns_status_idx` ON `marketingCampaigns` (`status`);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 4282
}