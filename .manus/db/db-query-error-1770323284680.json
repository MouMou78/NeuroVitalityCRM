{
  "query": "CREATE TABLE `enrollmentPathHistory` (\n\t`id` varchar(36) NOT NULL,\n\t`enrollmentId` varchar(36) NOT NULL,\n\t`nodeId` varchar(36) NOT NULL,\n\t`enteredAt` timestamp NOT NULL DEFAULT (now()),\n\t`exitedAt` timestamp,\n\t`edgeTaken` varchar(36),\n\t`metadata` json DEFAULT ('{}'),\n\tCONSTRAINT `enrollmentPathHistory_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `sequenceEdges` (\n\t`id` varchar(36) NOT NULL,\n\t`sequenceId` varchar(36) NOT NULL,\n\t`sourceNodeId` varchar(36) NOT NULL,\n\t`targetNodeId` varchar(36) NOT NULL,\n\t`edgeType` enum('default','yes','no','variant_a','variant_b','goal_met','goal_not_met') NOT NULL DEFAULT 'default',\n\t`label` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `sequenceEdges_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `sequenceNodes` (\n\t`id` varchar(36) NOT NULL,\n\t`sequenceId` varchar(36) NOT NULL,\n\t`nodeType` enum('email','wait','condition','ab_split','goal_check','exit') NOT NULL,\n\t`position` json NOT NULL,\n\t`subject` text,\n\t`body` text,\n\t`waitDays` int,\n\t`waitUntilTime` varchar(20),\n\t`conditionType` enum('replied','not_replied','opened','not_opened','clicked_link','time_elapsed','custom_field','goal_achieved','negative_response'),\n\t`conditionConfig` json,\n\t`variantAPercentage` int,\n\t`goalType` enum('meeting_booked','demo_requested','replied','link_clicked','custom'),\n\t`label` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `sequenceNodes_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `enrollment_node_idx` ON `enrollmentPathHistory` (`enrollmentId`,`nodeId`);\nCREATE INDEX `enrollment_time_idx` ON `enrollmentPathHistory` (`enrollmentId`,`enteredAt`);\nCREATE INDEX `sequence_edge_idx` ON `sequenceEdges` (`sequenceId`);\nCREATE INDEX `source_node_idx` ON `sequenceEdges` (`sourceNodeId`);\nCREATE INDEX `sequence_node_idx` ON `sequenceNodes` (`sequenceId`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2QkRhwd4AVTLhHG.a0950ca1ba2f --database TQEsx2HByTQrcAiUBn2kww --execute CREATE TABLE `enrollmentPathHistory` (\n\t`id` varchar(36) NOT NULL,\n\t`enrollmentId` varchar(36) NOT NULL,\n\t`nodeId` varchar(36) NOT NULL,\n\t`enteredAt` timestamp NOT NULL DEFAULT (now()),\n\t`exitedAt` timestamp,\n\t`edgeTaken` varchar(36),\n\t`metadata` json DEFAULT ('{}'),\n\tCONSTRAINT `enrollmentPathHistory_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `sequenceEdges` (\n\t`id` varchar(36) NOT NULL,\n\t`sequenceId` varchar(36) NOT NULL,\n\t`sourceNodeId` varchar(36) NOT NULL,\n\t`targetNodeId` varchar(36) NOT NULL,\n\t`edgeType` enum('default','yes','no','variant_a','variant_b','goal_met','goal_not_met') NOT NULL DEFAULT 'default',\n\t`label` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `sequenceEdges_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `sequenceNodes` (\n\t`id` varchar(36) NOT NULL,\n\t`sequenceId` varchar(36) NOT NULL,\n\t`nodeType` enum('email','wait','condition','ab_split','goal_check','exit') NOT NULL,\n\t`position` json NOT NULL,\n\t`subject` text,\n\t`body` text,\n\t`waitDays` int,\n\t`waitUntilTime` varchar(20),\n\t`conditionType` enum('replied','not_replied','opened','not_opened','clicked_link','time_elapsed','custom_field','goal_achieved','negative_response'),\n\t`conditionConfig` json,\n\t`variantAPercentage` int,\n\t`goalType` enum('meeting_booked','demo_requested','replied','link_clicked','custom'),\n\t`label` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `sequenceNodes_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `enrollment_node_idx` ON `enrollmentPathHistory` (`enrollmentId`,`nodeId`);\nCREATE INDEX `enrollment_time_idx` ON `enrollmentPathHistory` (`enrollmentId`,`enteredAt`);\nCREATE INDEX `sequence_edge_idx` ON `sequenceEdges` (`sequenceId`);\nCREATE INDEX `source_node_idx` ON `sequenceEdges` (`sourceNodeId`);\nCREATE INDEX `sequence_node_idx` ON `sequenceNodes` (`sequenceId`);",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 8 column 31 near \"'{}'),",
    "\tCONSTRAINT `enrollmentPathHistory_id` PRIMARY KEY(`id`)",
    ")\""
  ]
}